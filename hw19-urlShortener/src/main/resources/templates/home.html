<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>URL Shortener</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        input[type="url"] {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
        }
        button {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        .alert {
            padding: 10px;
            margin: 10px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .link-item {
            border: 1px solid #ddd;
            padding: 10px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
<h1>URL Shortener</h1>

<form th:action="@{/create-link}" method="post" th:object="${createLinkRequest}">
    <div class="form-group">
        <label>–í–≤–µ–¥–∏—Ç–µ URL:</label>
        <input type="url" th:field="*{originalUrl}" placeholder="https://example.com" required>
    </div>
    <button type="submit">–°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É</button>
</form>

<div th:if="${success}" class="alert success" th:text="${success}"></div>
<div th:if="${error}" class="alert error" th:text="${error}"></div>

<div th:if="${newLink}" style="margin: 15px 0; padding: 10px; background: #e7f3ff; border: 1px solid #b3d9ff;">
    <h3>üéâ –ù–æ–≤–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞!</h3>
    <p><strong>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è:</strong> <span th:text="${newLink.originalUrl}"></span></p>
    <p><strong>–ö–æ—Ä–æ—Ç–∫–∞—è:</strong>
        <a th:href="${newLink.shortUrl}" th:text="${newLink.shortUrl}" target="_blank"></a>
    </p>
</div>

<h2>–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏:</h2>
<div th:each="link : ${links}" class="link-item">
    <div><strong>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è:</strong> <span th:text="${link.originalUrl}"></span></div>
    <div><strong>–ö–æ—Ä–æ—Ç–∫–∞—è:</strong>
        <a th:href="${link.shortUrl}" th:text="${link.shortUrl}" target="_blank"></a>
    </div>
    <div><strong>–ü–µ—Ä–µ—Ö–æ–¥–æ–≤:</strong> <span th:text="${link.clickCount}"></span></div>
</div>
<div th:if="${#lists.isEmpty(links)}">
    <p>–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫</p>
</div>

<div style="margin-top: 20px;">
    <a href="/api/links" target="_blank">API</a>
</div>

</body>
</html>